<Window x:Class="WarehouseApp.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WarehouseApp" Height="700" Width="1200"
        WindowStartupLocation="CenterScreen"
        x:Name="RootWindow">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Бічне меню -->
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Background="#59595e"
                      Grid.Column="0">

            <StackPanel>
                <!-- Categories -->
                <Button Foreground="White" Background="Transparent" BorderBrush="Transparent"
                        FontSize="16" Padding="10" HorizontalContentAlignment="Left"
                        Command="{Binding NavigateToCategoriesCommand}">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Images/categories.png" Width="30" Height="30" Margin="0,0,10,0"/>
                        <TextBlock Text="Categories" Foreground="White" FontSize="16"/>
                    </StackPanel>
                </Button>

                <!-- Manufacturers -->
                <Button Foreground="White" Background="Transparent" BorderBrush="Transparent"
                        FontSize="16" Padding="10" HorizontalContentAlignment="Left"
                        Command="{Binding NavigateToManufacturersCommand}">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Images/manufacture.png" Width="30" Height="30" Margin="0,0,10,0"/>
                        <TextBlock Text="Manufacturers" Foreground="White" FontSize="16"/>
                    </StackPanel>
                </Button>

                <!-- Products -->
                <Button Foreground="White" Background="Transparent" BorderBrush="Transparent"
                        FontSize="16" Padding="10" HorizontalContentAlignment="Left"
                        Command="{Binding NavigateToProductsCommand}">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Images/product.png" Width="30" Height="30" Margin="0,0,10,0"/>
                        <TextBlock Text="Products" Foreground="White" FontSize="16"/>
                    </StackPanel>
                </Button>

                <!-- Warehouses -->
                <Button Foreground="White" Background="Transparent" BorderBrush="Transparent"
                        FontSize="16" Padding="10" HorizontalContentAlignment="Left"
                        Command="{Binding ToggleWarehousesMenuCommand}">

                    <Button.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Add warehouse"
                                      Command="{Binding AddWarehouseCommand}"/>
                        </ContextMenu>
                    </Button.ContextMenu>

                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Images/warehouse.png" Width="30" Height="30" Margin="0,0,10,0"/>
                        <TextBlock Text="Warehouses" Foreground="White" FontSize="16"/>
                    </StackPanel>
                </Button>

                <!-- Підменю складів -->
                <ItemsControl ItemsSource="{Binding Warehouses}"
                              Visibility="{Binding IsWarehousesExpanded,
                                      Converter={StaticResource BoolToVisibilityConverter}}">

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button 
        Background="Transparent"
        BorderBrush="Transparent"
        Foreground="#E0E0E0"
        FontSize="14"
        Padding="20,5,5,5"
        HorizontalContentAlignment="Left"
        Command="{Binding DataContext.SelectWarehouseCommand,
                          RelativeSource={RelativeSource AncestorType=Window}}"
        CommandParameter="{Binding}">

                                <Button.Content>
                                    <TextBlock Text="{Binding WarehouseName}" />
                                </Button.Content>

                                <Button.ContextMenu>
                                    <ContextMenu>
                                        <MenuItem Header="Edit"
                                      Command="{Binding PlacementTarget.DataContext.DataContext.EditWarehouseCommand,
                                                        RelativeSource={RelativeSource AncestorType=ContextMenu}}"
                                      CommandParameter="{Binding}" />

                                                            <Separator/>

                                                        <MenuItem Header="Delete"
                                      Command="{Binding PlacementTarget.DataContext.DataContext.DeleteWarehouseCommand,
                                                        RelativeSource={RelativeSource AncestorType=ContextMenu}}"
                                      CommandParameter="{Binding}" />   
                                    </ContextMenu>
                                </Button.ContextMenu>

                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>

                </ItemsControl>

            </StackPanel>

        </ScrollViewer>

        <!-- Контент -->
        <ContentControl Grid.Column="1"
                        Content="{Binding CurrentViewModel}" />

    </Grid>
</Window>
